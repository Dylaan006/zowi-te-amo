@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Outfit:wght@300;400;600&display=swap');

:root {
  --background: #fff0f3;
  --foreground: #4a0e0e;
  --primary: #ff4d6d;
  --primary-hover: #ff758f;
  --secondary: #ffccd5;
  --accent: #c9184a;
  --card-bg: rgba(255, 255, 255, 0.8);
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

body {
  color: var(--foreground);
  background: var(--background);
  /* Usamos variables CSS para poder randomizar desde JS */
  background-image:
    radial-gradient(circle at var(--bg-x1, 20%) var(--bg-y1, 30%), var(--bg-color1, #ffccd5) 0%, transparent 40%),
    radial-gradient(circle at var(--bg-x2, 80%) var(--bg-y2, 70%), var(--bg-color2, #ff8fa3) 0%, transparent 40%),
    radial-gradient(circle at 50% 50%, #fff0f3 0%, var(--bg-color3, #ffb3c1) 100%);
  background-attachment: fixed;
  font-family: 'Outfit', sans-serif;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow-x: hidden;
  /* Esta es la clave para que el cambio de fondo sea suave */
  transition: background 1.5s ease-in-out;
}

h1 {
  font-family: 'Dancing Script', cursive;
  color: var(--accent);
  font-size: 3.5rem;
  margin-bottom: 1.5rem;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.container {
  text-align: center;
  padding: 2rem;
  max-width: 600px;
  width: 100%;
}

.card {
  background: var(--card-bg);
  backdrop-filter: blur(10px);
  padding: 3rem;
  border-radius: 30px;
  box-shadow: 0 15px 35px rgba(255, 77, 109, 0.2);
  border: 2px solid white;
  transition: transform 0.3s ease;
  margin-bottom: 2rem;
  position: relative;
  overflow: hidden;
}

.card::before {
  content: '♥';
  position: absolute;
  top: 10px;
  left: 20px;
  font-size: 2rem;
  color: var(--secondary);
  opacity: 0.5;
}

.card::after {
  content: '♥';
  position: absolute;
  bottom: 10px;
  right: 20px;
  font-size: 2rem;
  color: var(--secondary);
  opacity: 0.5;
}

.phrase {
  font-family: 'Dancing Script', cursive;
  font-size: 2.2rem;
  line-height: 1.4;
  color: var(--accent);
  min-height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.heart-button {
  background: var(--primary);
  color: white;
  border: none;
  width: 100px;
  height: 100px;
  cursor: pointer;
  clip-path: path('M50 88.9L46.4 85.6C18.2 60.1 0 43.6 0 26.6C0 13 10.7 2.3 24.3 2.3C31.5 2.3 38.4 5.7 43 11C47.6 5.7 54.5 2.3 61.7 2.3C75.3 2.3 86 13 86 26.6C86 43.6 67.8 60.1 39.6 85.6L36 88.9L50 100L64 88.9L60.4 85.6C32.2 60.1 14 43.6 14 26.6C14 13 24.7 2.3 38.3 2.3C45.5 2.3 52.4 5.7 57 11C61.6 5.7 68.5 2.3 75.7 2.3C89.3 2.3 100 13 100 26.6C100 43.6 81.8 60.1 53.6 85.6L50 88.9Z');
  /* The path above is a bit complex, let's use a simpler one or a SVG */
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), background 0.3s ease;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 0 auto;
  box-shadow: 0 10px 20px rgba(255, 77, 109, 0.3);
}

/* Redefining heart button with a better SVG shape */
.heart-container {
  position: relative;
  width: 120px;
  height: 120px;
  margin: 2rem auto;
  cursor: pointer;
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  /* Fix for mobile blue selection highlight */
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  -webkit-touch-callout: none;
}

.heart-container:hover {
  transform: scale(1.15);
}

.heart-container:active {
  transform: scale(0.9);
}

.heart-svg {
  width: 100%;
  height: 100%;
  fill: var(--primary);
  filter: drop-shadow(0 10px 15px rgba(255, 77, 109, 0.4));
  transition: fill 0.3s ease;
}

.heart-container:hover .heart-svg {
  fill: var(--accent);
}

.floating-hearts span {
  position: fixed;
  color: var(--primary);
  opacity: 0;
  pointer-events: none;
  animation: float 4s linear infinite;
  z-index: -1;
}

@keyframes float {
  0% {
    transform: translateY(100vh) scale(0);
    opacity: 0;
  }

  20% {
    opacity: 0.6;
  }

  100% {
    transform: translateY(-20vh) scale(1.5);
    opacity: 0;
  }
}

.loader {
  border: 4px solid var(--secondary);
  border-top: 4px solid var(--primary);
  border-radius: 50%;
  width: 30px;
  height: 30px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@media (max-width: 600px) {
  h1 {
    font-size: 2.5rem;
  }

  .card {
    padding: 2rem;
    margin: 1rem;
  }

  .phrase {
    font-size: 1.8rem;
  }
}